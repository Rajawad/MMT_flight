package Page;
import java.awt.AWTException;
import java.awt.Robot;
import java.awt.event.KeyEvent;

import org.junit.Assert;
import org.openqa.selenium.Alert;
import org.openqa.selenium.By;
import org.openqa.selenium.Keys;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.edge.EdgeDriver;
import org.openqa.selenium.support.CacheLookup;
import org.openqa.selenium.support.FindBy;
import org.openqa.selenium.support.PageFactory;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;

import org.openqa.selenium.WebDriver;


public class Pagefactoryflight {

WebDriver driver;
	
//	@FindBy(id="webklipper-publisher-widget-container-notification-frame")
//	WebElement popup;
	
	@FindBy(xpath="//div[@class=\"flt_fsw_inputBox searchCity inactiveWidget \"]")
	WebElement from;
	
	@FindBy(xpath="//div[@class=\"autoSuggestPlugin hsw_autocomplePopup\"]/child::div/input")
	WebElement fromInput;
	
	@FindBy(xpath="//div[@class=\"flt_fsw_inputBox searchToCity inactiveWidget \"]")
	WebElement to;
	
	@FindBy(xpath="//div[@class=\"autoSuggestPlugin hsw_autocomplePopup makeFlex column spaceBetween\"]/child::div/input")
	WebElement toInput;
	
	@FindBy(id="//div[@aria-label=\"Fri Apr 19 2024\"]")
	WebElement dateValue;
	
	@FindBy(xpath="//input[@class=\"fsw_inputField font30 latoBlack\"]")
	WebElement traveller;
	
	@FindBy(xpath="//li[@data-cy=\"adults-2\"]")
	WebElement travellervalue;
	
	@FindBy(id="search_button")
	WebElement Search;
	
	public Pagefactoryflight(WebDriver driver) {
		this.driver=driver;
		PageFactory.initElements(driver,this);
	}
	
	public void ClickFlights() throws InterruptedException {
	 
		
		
		//WebElement popup= driver.findElement(By.id("webklipper-publisher-widget-container-notification-container"));
		Alert al=driver.switchTo().alert();
		al.dismiss();
		//driver.switchTo().frame(popup);
		//driver.findElement(By.id("webklipper-publisher-widget-container-notification-close-div")).click();
		
		
		//popup.click();
		//@FindBy(id="webklipper-publisher-widget-container-notification-close-div")
		
	
		
		
	}
	public void Details() throws InterruptedException, AWTException {
		from.click();
		Thread.sleep(3000);
		fromInput.sendKeys("Indore");
		   Robot r=new Robot();
	       r.keyPress(KeyEvent.VK_DOWN);
	       r.keyRelease(KeyEvent.VK_DOWN);
	       r.keyPress(KeyEvent.VK_ENTER);
	       r.keyRelease(KeyEvent.VK_ENTER);
		to.click();
		Thread.sleep(3000);
		toInput.sendKeys("Bengalore");
		
	       r.keyPress(KeyEvent.VK_DOWN);
	       r.keyRelease(KeyEvent.VK_DOWN);
	       r.keyPress(KeyEvent.VK_ENTER);
	       r.keyRelease(KeyEvent.VK_ENTER);
		dateValue.click();
		
		traveller.click();
		travellervalue.click();
	}
	public void SearchFlight() {
		Search.click();
	}
}
